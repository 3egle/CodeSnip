"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=void 0;var _nodeFs=require("node:fs"),_nodeHttps=require("node:https"),_cleanup=_interopRequireDefault(require("./cleanup"));function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function getSource(a,b,c){console.log("downloading snippets");var d="".concat(global.__project_path,"sources/").concat(b,"/").concat(c||b,".json");return new Promise(function(b,c){(0,_nodeHttps.get)(a,function(a){var e=(0,_nodeFs.createWriteStream)(d);a.on("error",function(){return c()}),e.on("finish",function(){e.close(),b()}),e.on("error",function(){return c()}),a.pipe(e)}).on("error",function(a){(0,_cleanup["default"])(),console.log(a),c()})})["catch"](function(){})}var _default=getSource;exports["default"]=_default;